1
00:00:00,651 --> 00:00:05,611
This is an explanation video for
an Algorithm to play the board

2
00:00:05,635 --> 00:00:09,635
game "Codenames", written
by Michael and Asaf Kali.

3
00:00:09,659 --> 00:00:12,325
Part 1: The board game Codenames

4
00:00:12,349 --> 00:00:15,469
Let's first describe the Codenames game

5
00:00:15,493 --> 00:00:21,093
In the game, two groups are competing
- The blue team and the red team

6
00:00:21,117 --> 00:00:26,397
In each group there are two types
of players :The spymaster and the

7
00:00:26,421 --> 00:00:31,061
field operatives, which are often played
by multiple people

8
00:00:33,085 --> 00:00:36,845
On the board there are
25 cards, each one with a

9
00:00:36,869 --> 00:00:38,549
word witten on in.

10
00:00:38,685 --> 00:00:43,725
Some cards represent blue agents,
and some represent red agents.

11
00:00:44,069 --> 00:00:49,909
 one represents an assassin, and the
others represent innocent bystanders.

12
00:00:49,933 --> 00:00:54,493
but only the two Spymasters
holds the map that tells which

13
00:00:54,517 --> 00:00:57,101
card is assigned to which team.

14
00:00:57,125 --> 00:01:02,965
The goal of the Spymasters is to
have all the cards of their color exposed

15
00:01:02,989 --> 00:01:08,909
to do so, in each turn the spymaster
chooses some of the cards of his color

16
00:01:08,933 --> 00:01:10,333
to hint about.

17
00:01:10,357 --> 00:01:15,397
He then hint about them with a
single word, that somehow relates

18
00:01:15,421 --> 00:01:20,541
to each of them, and with the
number of cards he is hinting about

19
00:01:20,565 --> 00:01:26,565
Then, the field operatives guesses which
cards did the Spymaster hinted about.

20
00:01:26,589 --> 00:01:31,469
with each guess, The true color
of the card is being revealed.

21
00:01:31,493 --> 00:01:35,493
Even when the Field
Operators guess a card from the

22
00:01:35,517 --> 00:01:39,757
correct color, the Spymaster
may not give away if that

23
00:01:39,781 --> 00:01:42,681
was the card he hinted about or not.

24
00:01:42,993 --> 00:01:47,073
The spymaster can try to
hint at many cards at once, but

25
00:01:47,097 --> 00:01:51,337
if the Field Operators accidentally
choose a card from the

26
00:01:51,361 --> 00:01:54,801
opponent’s color or a
Bystander's gray card,

27
00:01:54,825 --> 00:01:56,575
they loose their turn

28
00:02:11,601 --> 00:02:16,961
If they hit the black Assassin’s
card - The team immediately looses.

29
00:02:16,985 --> 00:02:19,151
Part 2: The Word2Vec Model

30
00:02:19,175 --> 00:02:23,975
The Algorithm in discussion
uses a pre-trained Word2Vec model

31
00:02:23,999 --> 00:02:26,499
for it's linguistic knowledge.

32
00:02:26,523 --> 00:02:32,283
The Word2Vec model uses a big text
corpus such as Wikipedia or news sites

33
00:02:32,307 --> 00:02:37,507
to assign each word in the
vocabulary with an n-dimensional vector

34
00:02:37,531 --> 00:02:43,371
The vectors of the various words are
designed such that words that tend to

35
00:02:43,395 --> 00:02:48,755
appear in the same context will
have small angle between them, while

36
00:02:48,779 --> 00:02:53,659
distant, unrelated words will
have a larger angle between them

37
00:02:53,683 --> 00:02:59,203
In this example, since both "deer"
and "lion" appear in the context of

38
00:02:59,227 --> 00:03:04,427
Africa, nature, hunting and such,
they are assigned with a similar

39
00:03:04,451 --> 00:03:09,731
vectors, with a small angle between
them, while "nationalism", that

40
00:03:09,755 --> 00:03:15,355
appears in completely different
contexts has a completely other vector.

41
00:03:15,379 --> 00:03:17,963
Part 3: The Codenames Algorithm

42
00:03:17,987 --> 00:03:22,307
In each turn, the first task
of the hinter is to find a

43
00:03:22,331 --> 00:03:26,251
proper subset of words
(usually two to four words)

44
00:03:26,275 --> 00:03:27,875
on which to hint

45
00:03:27,899 --> 00:03:31,339
Two methods of clustering
where implemented.

46
00:03:31,363 --> 00:03:37,363
In the first clustering method, the
words are considered as nodes in a graph

47
00:03:37,387 --> 00:03:41,867
with edges weights correlated
to their cosine similarity.

48
00:03:41,891 --> 00:03:48,211
This graph is divided into communities
using the Louvain SNA algorithm, and each

49
00:03:48,235 --> 00:03:53,355
community is taken as an optional
cluster of words to hint about.

50
00:03:53,379 --> 00:03:59,379
A second, "greedy" method, simply
iterates over all combinations of words to

51
00:03:59,403 --> 00:04:01,083
choose the best one.

52
00:04:01,107 --> 00:04:05,907
The second task of the hinter
is to choose a hinting word for

53
00:04:05,931 --> 00:04:08,431
each of the proposed clusters.

54
00:04:08,455 --> 00:04:14,775
In order to find a hinting word for a
cluster, the hinter generates a "centroid"

55
00:04:14,799 --> 00:04:18,959
vector for the cluster, to
search real words near by.

56
00:04:18,983 --> 00:04:25,303
An initial "centroid" is proposed as the
Center of Mass of the cluster's vectors

57
00:04:25,327 --> 00:04:32,047
Ideally, the centroid would be close to all
the cluster's words and far from words of

58
00:04:32,071 --> 00:04:37,991
other colors. (where "close" and
"far") are considered in the angle metric.

59
00:04:38,015 --> 00:04:44,495
To optimize the centroid, the words in
the board (from  all colors) are considered

60
00:04:44,519 --> 00:04:50,439
as a physical system, where every
vector from the color of the hinter is an

61
00:04:50,463 --> 00:04:55,023
attractor, and every word
from other colors is a repeller.

62
00:04:55,047 --> 00:05:00,567
The centroid is then being pushed
and pulled by the words of the board

63
00:05:00,591 --> 00:05:06,351
until converging to a point where it
is both far away from bad words, and

64
00:05:06,375 --> 00:05:08,541
close the cluster's words.

65
00:05:08,565 --> 00:05:14,325
The attraction force acts like a
spring, where if the centroid is too far,

66
00:05:14,349 --> 00:05:20,829
the spring can be "torn" apart and is no
longer considered as part of the cluster.

67
00:05:20,853 --> 00:05:26,453
This is done in order to allow
outliers in the cluster to be neglected.

68
00:05:26,477 --> 00:05:31,677
After convergence, all there
needs to be done is to pick up a word

69
00:05:31,701 --> 00:05:34,901
near-by the optimized
cluster's centroid.

70
00:05:34,925 --> 00:05:39,645
The top n words with the lowest
cosine distance are examined

71
00:05:39,669 --> 00:05:43,509
and the best one is
chosen and the cluster's hint

72
00:05:43,533 --> 00:05:48,653
The best hint from all clusters
is picked and being hinted to the

73
00:05:48,677 --> 00:05:51,261
Field Operators (the guessers).

74
00:05:51,285 --> 00:05:52,885
Part 4: Examples

75
00:05:52,909 --> 00:05:57,389
Here is an example of a well
hinted word by the algorithm

76
00:05:57,413 --> 00:06:02,693
On the X-axis, lay the unrevealed
cards, when the Spymaster hinted:

77
00:06:02,717 --> 00:06:04,397
"Planets, 2 cards".

78
00:06:04,421 --> 00:06:09,541
On the Y-axis, you can see the
cosine distance between the hinted

79
00:06:09,565 --> 00:06:12,685
word "Planet" and the unrevealed cards.

80
00:06:12,709 --> 00:06:18,149
as can be seen when the Field
Operator searches for the closest words

81
00:06:18,173 --> 00:06:23,613
to "planets", "earth" and "jupiter"
are significantly closer then the

82
00:06:23,637 --> 00:06:27,317
other cards thus those
will be his two guesses.

